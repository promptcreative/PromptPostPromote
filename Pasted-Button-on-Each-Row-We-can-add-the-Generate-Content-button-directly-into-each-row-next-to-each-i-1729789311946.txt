Button on Each Row:

We can add the "Generate Content" button directly into each row (next to each image), but the button will now trigger the generation of content for all images that share the same category (artwork title).
Backend Updates:

Modify the backend to fetch all images in the same category when generating content. Instead of sending one image to GPT, it will send all images under the same category and generate descriptions/hashtags for each.
Front-End Updates:

When the "Generate Content" button is clicked, it will check the category of the image, fetch all images in that category, and trigger the generation process for all of them in one go.
Step-by-Step Instructions for Replit AI Agent:
1. Add "Generate Content" Button in Each Row (Category-Wide):
Task: Add a "Generate Content" button to each row, which will trigger content generation for all images that share the same category.
Instructions:
Add a "Generate Content" button in each row.
When clicked, this button should check the category of the image and trigger the GPT content generation for all images within the same category.
The button should make a request to a backend route (e.g., /generate_content_for_category/<category>), which will gather all images under the specified category and generate descriptions/hashtags for each.
Frontend Example:

html
Copy code
<table>
    <thead>
        <tr>
            <th>Category (Artwork Title)</th>
            <th>Preview</th>
            <th>Original Filename</th>
            <th>Description</th>
            <th>Hashtags</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody id="imageTable">
        <!-- Example Row -->
        <tr>
            <td>BlackChalsk Board</td>
            <td><img src="static/uploads/sample.jpg" width="100"></td>
            <td>Copy_of_BlackChalklikeotherbetter.png</td>
            <td>Description</td>
            <td>Hashtags</td>
            <td>
                <button class="generate-gpt-category-btn" data-category="BlackChalsk Board">Generate Content</button>
            </td>
        </tr>
    </tbody>
</table>
Frontend (JavaScript):

Add event listeners for the new "Generate Content" button:
javascript
Copy code
document.querySelectorAll('.generate-gpt-category-btn').forEach(button => {
    button.addEventListener('click', function() {
        const category = this.dataset.category;

        // Make a request to the backend to generate content for all images in this category
        fetch(`/generate_content_for_category/${category}`, { method: 'POST' })
        .then(response => response.json())
        .then(data => {
            data.forEach(image => {
                // Update the table with the generated content
                document.querySelector(`#description-${image.id}`).value = image.description;
                document.querySelector(`#hashtags-${image.id}`).value = image.hashtags;
            });
        })
        .catch(error => console.error('Error:', error));
    });
});
2. Backend: Modify Route to Handle Category-Wide Content Generation:
Task: Modify the backend to fetch all images under the same category and send them to the GPT model for content generation.
Instructions:
Add a new route /generate_content_for_category/<category> that will:
Fetch all images in the given category.
Send each image to the GPT model for generating descriptions and hashtags.
Return the updated descriptions and hashtags for all images in that category.
Backend Example (Flask):

python
Copy code
@app.route('/generate_content_for_category/<category>', methods=['POST'])
def generate_content_for_category(category):
    # Fetch all images under the given category
    images = Image.query.filter_by(category=category).all()

    if not images:
        return jsonify({'error': 'No images found for this category'}), 404

    # Loop through each image and generate content
    updated_images = []
    for image in images:
        generated_content = generate_gpt_content(image.original_filename)
        description, hashtags = parse_gpt_response(generated_content)

        # Update the image metadata in the database
        image.description = description
        image.hashtags = hashtags
        db.session.commit()

        # Add the updated image info to the response
        updated_images.append({
            'id': image.id,
            'description': description,
            'hashtags': hashtags
        })

    # Return the updated images with the generated content
    return jsonify(updated_images)
3. Test and Verify:
Task: Verify that the "Generate Content" button works for all images in the category and updates the frontend correctly.
Instructions:
Test the button to ensure that it triggers the GPT content generation for all images under the same category.
Ensure that the table is updated with the new descriptions and hashtags for all images.
